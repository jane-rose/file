!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _index_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_index_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_index_css__WEBPACK_IMPORTED_MODULE_0__);let aInput=document.querySelectorAll("input"),dragfile=document.querySelector("#drag"),oUl=document.querySelector("#oUl"),$=e=>document.querySelector(e),arr=[],size=[],aTitle=[];function readFile(e){let t=new Blob([e]),n=window.URL.createObjectURL(t),r=document.createElement("li");r.innerHTML=`<img src=${n} width="100%" height="100%"/><p></p>`,$("#oUl").appendChild(r),count()}function count(){let aLi=$("#oUl").querySelectorAll("li");$("#picLen").innerText=arr.length,size[0]?$("#picSize").innerText=(eval(size.join("+"))/1024/1024).toFixed(2):$("#picSize").innerText=0;let aP=$("#oUl").querySelectorAll("p");aP.forEach((e,t)=>{e.innerHTML=aTitle[t]+"<i></i>"}),del()}function del(){let e=$("#oUl").querySelectorAll("li");e.forEach((t,n)=>{t.children[1].children[0].addEventListener("click",function(t){arr.splice(n,1),size.splice(n,1),$("#oUl").removeChild(e[n]),count()})})}aInput.forEach(function(e,t){e.onchange=function(){if(this.value){if(this.files.length)for(let e=0,t=this.files.length;e<t;e++){let t=this.files[e];arr.push(t),size.push(t.size),aTitle.push(t.name),readFile(t)}this.value=""}}}),dragfile.ondragenter=function(){this.innerText="请释放鼠标"},dragfile.ondragover=function(e){e.preventDefault(),e.stopPropagation()},dragfile.ondragleave=function(){this.innerText="请将图片拖放进来"},dragfile.ondrop=function(e){e.preventDefault(),e.stopPropagation();for(let t=0,n=e.dataTransfer.files.length;t<n;t++){let n=e.dataTransfer.files[t];console.log(n),/image/.test(n.type)&&(arr.push(n),size.push(n.size),aTitle.push(n.name),readFile(n))}this.innerText="请将图片拖拽到此区域"},$(".upload").addEventListener("click",function(e){let t=$("#oUl").querySelectorAll("li");arr.length&&arr.forEach((e,n)=>{!function(n){let r=new XMLHttpRequest;r.onload=function(){$("#drag").innerText="图片已上传成功",$("#oUl").removeChild(t[n]),arr.splice(n,1)},r.open("post","./upload.php",!0);let i=new FormData;i.append("file",e),r.send(i)}(n)})})},function(e,t){}]);